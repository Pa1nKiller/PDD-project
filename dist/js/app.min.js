(()=>{"use strict";const e={};let t=!0,s=(e=500)=>{let s=document.querySelector("body");if(t){let n=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let e=0;e<n.length;e++){n[e].style.paddingRight="0px"}s.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),e),t=!1,setTimeout((function(){t=!0}),e)}},n=(e=500)=>{let s=document.querySelector("body");if(t){let n=document.querySelectorAll("[data-lp]");for(let e=0;e<n.length;e++){n[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}s.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),t=!1,setTimeout((function(){t=!0}),e)}};const o=class{constructor(e){this.title=e.title,this.subtitle=e.subtitle,this.text=e.text,this.img=e.img,this.structureHTML=new Array,this.createHTML()}createHTML(){for(let e=0;e<this.subtitle.length;e++)this.structureHTML+='<h3 class="element-animation">'+this.subtitle[e]+"</h3>",this.structureHTML+='<p class="element-animation">'+this.text[e]+"</p>",null!=this.img[e]&&(e+1!=this.subtitle.length?this.structureHTML+='<img class="element-animation" src="'+this.img[e]+'">':this.structureHTML+='<img src="'+this.img[e]+'">')}content(){return{title:this.title,html:this.structureHTML}}},i=JSON.parse('{"generalProvisions":{"general":{"title":"Общие положения","subtitle":["1. Дорога и Пешеходы","2. Правило правой руки","3. Светофоры и Знаки","4. Скорость и Дистанция","5. Алкоголь и Наркотики","6. Сотовые телефоны","7. Другие Участники Движения"],"img":["./img/theory/generalProvisions/1/1.jpg","./img/theory/generalProvisions/1/2.jpg","./img/theory/generalProvisions/1/3.jpg","./img/theory/generalProvisions/1/4.jpg","./img/theory/generalProvisions/1/5.jpg","./img/theory/generalProvisions/1/6.jpg","./img/theory/generalProvisions/1/7.jpg"],"text":[["Дорога - это не просто полоса асфальта. Это место, где каждый участник движения должен соблюдать правила и уважать друг друга.","Пешеходы - наши самые уязвимые участники. Помни, что они всегда имеют преимущество на пешеходных переходах."],["В большинстве стран движение на дороге праворульное. Это означает, что при пересечении других транспортных средств, уступай дорогу тем, кто едет справа."],["Подчиняйтесь светофорам и дорожным знакам. Они указывают, когда можно двигаться и когда нужно остановиться."],["Соблюдай разумную скорость и безопасное расстояние между автомобилями. Это позволяет избежать аварий."],["Никогда не управляй транспортным средством, находясь под воздействием алкоголя или наркотиков. Это опасно и незаконно."],["Перед использованием сотового телефона остановись в безопасном месте. Внимание на дороге — твоя первоочередная задача."],["Помни, что на дороге есть много разных участников, включая велосипедистов, мотоциклистов и пешеходов. Уважай их права и будь осторожен."]]},"generalTwo":{"title":"Общие обязанности водителей","subtitle":["1. Сосредоточенность и Безотвлекаемость","2. Скоростной Режим","3. Передача Приоритета","4. Наличие документов","5. Уступать Пешеходам"],"img":["./img/theory/generalProvisions/2/1.jpg",null,"./img/theory/generalProvisions/2/2.jpg","./img/theory/generalProvisions/2/3.jpg","./img/theory/generalProvisions/2/4.jpg"],"text":[["Внимание на дороге - главное правило. Избегайте отвлекающих действий, таких как разговоры по телефону."],["Уважайте ограничения скорости. Не превышайте их, чтобы обеспечить безопасность всех на дороге."],["Правильно уступайте дорогу согласно правилам. Помните о приоритетах."],["Водитель транспортного средства обязан иметь при себе удостоверение и по требованию сотрудников полиции передавать им, для проверки."],["Пешеходы всегда имеют преимущество на пешеходных переходах. Уступайте дорогу им."],["Перед использованием сотового телефона остановись в безопасном месте. Внимание на дороге — твоя первоочередная задача."],["Помни, что на дороге есть много разных участников, включая велосипедистов, мотоциклистов и пешеходов. Уважай их права и будь осторожен."]]},"generalThree":{"title":"Общие положения","subtitle":["1. Дорога и Пешеходы","2. Правило правой руки","3. Светофоры и Знаки","4. Скорость и Дистанция","5. Алкоголь и Наркотики","6. Сотовые телефоны","7. Другие Участники Движения"],"img":["./img/theory/generalProvisions/1/1.jpg","./img/theory/generalProvisions/1/2.jpg","./img/theory/generalProvisions/1/3.jpg","./img/theory/generalProvisions/1/4.jpg","./img/theory/generalProvisions/1/5.jpg","./img/theory/generalProvisions/1/6.jpg","./img/theory/generalProvisions/1/7.jpg"],"text":[["Дорога - это не просто полоса асфальта. Это место, где каждый участник движения должен соблюдать правила и уважать друг друга.","Пешеходы - наши самые уязвимые участники. Помни, что они всегда имеют преимущество на пешеходных переходах."],["В большинстве стран движение на дороге праворульное. Это означает, что при пересечении других транспортных средств, уступай дорогу тем, кто едет справа."],["Подчиняйтесь светофорам и дорожным знакам. Они указывают, когда можно двигаться и когда нужно остановиться."],["Соблюдай разумную скорость и безопасное расстояние между автомобилями. Это позволяет избежать аварий."],["Никогда не управляй транспортным средством, находясь под воздействием алкоголя или наркотиков. Это опасно и незаконно."],["Перед использованием сотового телефона остановись в безопасном месте. Внимание на дороге — твоя первоочередная задача."],["Помни, что на дороге есть много разных участников, включая велосипедистов, мотоциклистов и пешеходов. Уважай их права и будь осторожен."]]}}}');e.mousePrlx=new class{constructor(e,t=null){if(this.config=Object.assign({init:!0,logging:!0},e),this.config.init){const e=document.querySelectorAll("[data-prlx-mouse]");e.length?(this.paralaxMouseInit(e),this.setLogging(`Проснулся, слежу за объектами: (${e.length})`)):this.setLogging("Нет ни одного объекта. Сплю...zzZZZzZZz...")}}paralaxMouseInit(e){e.forEach((e=>{const t=e.closest("[data-prlx-mouse-wrapper]"),s=e.dataset.prlxCx?+e.dataset.prlxCx:100,n=e.dataset.prlxCy?+e.dataset.prlxCy:100,o=e.hasAttribute("data-prlx-dxr")?-1:1,i=e.hasAttribute("data-prlx-dyr")?-1:1,r=e.dataset.prlxA?+e.dataset.prlxA:50;let l=0,c=0,a=0,g=0;function u(t=window){t.addEventListener("mousemove",(function(t){const s=e.getBoundingClientRect().top+window.scrollY;if(s>=window.scrollY||s+e.offsetHeight>=window.scrollY){const e=window.innerWidth,s=window.innerHeight,n=t.clientX-e/2,o=t.clientY-s/2;a=n/e*100,g=o/s*100}}))}!function t(){l+=(a-l)*r/1e3,c+=(g-c)*r/1e3,e.style.cssText=`transform: translate3D(${o*l/(s/10)}%,${i*c/(n/10)}%,0);`,requestAnimationFrame(t)}(),t?u(t):u()}))}setLogging(e){this.config.logging&&function(e){setTimeout((()=>{window.FLS&&console.log(e)}),0)}(`[PRLX Mouse]: ${e}`)}}({});let r=!1;function l(e){e.forEach((e=>{e.isIntersecting&&e.target.classList.add("element-show")}))}function c(e){var t=e.split(".");let s=i[t[0]],n=new o(s[t[1]]),r=document.querySelector(".theory__container-content"),c=n.content();r.querySelector("h2").innerHTML=c.title;let a=r.querySelector(".theory__content");a.innerHTML=c.html;let g=new IntersectionObserver(l,{threshold:[.3]}),u=document.querySelectorAll(".element-animation");for(let e of u)g.observe(e);let d,m=speechSynthesis.getVoices();speechSynthesis.onvoiceschanged=()=>{m=speechSynthesis.getVoices(),d=m.find((e=>"Google русский"===e.name)),document.querySelector("#voice").addEventListener("click",v),window.addEventListener("keydown",f)};const h="play",p="pause",y="resume";speechSynthesis.cancel(),document.querySelector("#voice").className=h;let v=({target:e})=>{switch(e=e.parentNode,console.log(e),e.className){case h:speechSynthesis.cancel();const{textContent:t}=a;console.log("asd"),t.split(/[.,]+/).forEach((t=>{const s=t.trim();if(console.log(s),s){const s=function(e,t){const s=new SpeechSynthesisUtterance(t);return s.voice=d,s.lang=d.lang,s.volume=1,s.rate=1.1,s.pitch=1,s.onstart=()=>{console.log("Started"),e.className=p},s.onend=()=>{console.log("Finished"),e.className=h},s.onerror=e=>console.error(e),s}(e,t);speechSynthesis.speak(s)}}));break;case p:e.className=y,speechSynthesis.pause();break;case y:e.className=p,speechSynthesis.resume()}},f=({code:e})=>{if("Escape"===e)return speechSynthesis.cancel()}}setTimeout((()=>{if(r){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)})),document.addEventListener("DOMContentLoaded",(()=>{a(),c("generalProvisions.general")}));let a=()=>{let e=document.querySelector(".sidebar"),t=document.querySelector(".sidebar-icon"),s=e.querySelectorAll(".sidebar__item"),n=e.querySelectorAll(".sidebar__icon");n.forEach((e=>{let t=e.parentNode.querySelector(".sidebar__submenu");e.addEventListener("mouseover",(e=>{!function(e){if(!e)return;n.forEach((e=>{let t=e.parentNode.querySelector(".sidebar__submenu");t.classList.contains("hover")&&t.classList.remove("hover")}))}(e),t.classList.add("hover"),document.addEventListener("click",(()=>{t.classList.remove("hover")}))}))})),s.forEach((e=>{let t=e.querySelector("p"),n=e.querySelector(".sidebar__submenu"),o=e.querySelector("svg");t.addEventListener("click",(e=>{!function(e,t){if(!e)return;s.forEach((t=>{let s=t.querySelector(".sidebar__submenu");s!=e&&s.classList.contains("open")&&(t.querySelector("svg").style.rotate="0deg",s.classList.remove("open"))})),e.classList.contains("open")?(e.classList.remove("open"),t.style.rotate="0deg"):(e.classList.add("open"),t.style.rotate="90deg")}(n,o)})),n.querySelectorAll("button").forEach((e=>{e.addEventListener("click",(()=>{c(e.value)}))}))}));t.addEventListener("click",(()=>{e.classList.toggle("open");document.querySelectorAll("#rect").forEach((e=>{e.classList.toggle("is-visible")})),s.forEach((e=>{let t=e.querySelector(".sidebar__submenu");t.classList.contains("open")&&(e.querySelector("svg").style.rotate="0deg",t.classList.remove("open"))}))}))};document.querySelector(".icon-menu")&&document.addEventListener("click",(function(e){t&&e.target.closest(".icon-menu")&&(((e=500)=>{document.documentElement.classList.contains("lock")?s(e):n(e)})(),document.documentElement.classList.toggle("menu-open"))}))})();