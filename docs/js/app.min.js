(()=>{"use strict";const t={};let e=!0,i=(t=500)=>{let i=document.querySelector("body");if(e){let s=document.querySelectorAll("[data-lp]");setTimeout((()=>{for(let t=0;t<s.length;t++){s[t].style.paddingRight="0px"}i.style.paddingRight="0px",document.documentElement.classList.remove("lock")}),t),e=!1,setTimeout((function(){e=!0}),t)}},s=(t=500)=>{let i=document.querySelector("body");if(e){let s=document.querySelectorAll("[data-lp]");for(let t=0;t<s.length;t++){s[t].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}i.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",document.documentElement.classList.add("lock"),e=!1,setTimeout((function(){e=!0}),t)}};const o=class{constructor(t){this.title=t.title,this.subtitle=t.subtitle,this.text=t.text,this.img=t.img,this.structureHTML=new Array,this.createHTML()}createHTML(){for(let t=0;t<this.subtitle.length;t++)this.structureHTML+='<h3 class="element-animation">'+this.subtitle[t]+"</h3>",this.structureHTML+='<p class="element-animation">'+this.text[t]+"</p>",null!=this.img[t]&&(t+1!=this.subtitle.length?this.structureHTML+='<img class="element-animation" src="'+this.img[t]+'">':this.structureHTML+='<img src="'+this.img[t]+'">')}content(){return{title:this.title,html:this.structureHTML}}};const r=class{constructor(t="default",e,i,s,o,r,n,l,c){this.path=i,this.carHtml=document.createElement("div"),this.carImg=document.createElement("img"),this.count=document.createElement("span"),this.all=c,this.deg=r,this.id=n,this.direction=t,this.povorot=l,this.povorotnik=document.createElement("div"),this.povorotnik.classList.add("povorotnik"),this.dublpovorotnik=document.createElement("div"),this.dublpovorotnik.classList.add("dublpovorotnik"),"right"==this.povorot?(this.povorotnik.classList.add("right"),this.dublpovorotnik.classList.add("right")):"left"==this.povorot&&(this.dublpovorotnik.classList.add("left"),this.povorotnik.classList.add("left")),this.carImg.src=this.path,this.carHtml.appendChild(this.povorotnik),this.carHtml.appendChild(this.dublpovorotnik),this.carHtml.appendChild(this.carImg),this.carHtml.appendChild(this.count),this.count.classList.add("count"),this.carHtml.classList.add("car"),this.carHtml.style.top=o+"px",this.carHtml.style.left=s+"px",this.carHtml.style.rotate=this.deg+"deg",document.querySelector(".intersection").appendChild(this.carHtml);let a=document.querySelector(".intersection");a=window.getComputedStyle(a),this.intersectionWidth=this.removePX(a.getPropertyValue("width"))+60,this.intersectionHeight=this.removePX(a.getPropertyValue("height"))+60;let h=window.getComputedStyle(this.carHtml);this.carY=this.removePX(h.getPropertyValue("top")),this.carX=this.removePX(h.getPropertyValue("left")),this.intersectionCenter=window.getComputedStyle(e),Number(),this.Il=this.removePX(this.intersectionCenter.getPropertyValue("left")),this.It=this.removePX(this.intersectionCenter.getPropertyValue("top")),this.Iw=this.removePX(this.intersectionCenter.getPropertyValue("width")),this.Ih=this.removePX(this.intersectionCenter.getPropertyValue("height")),this.border=document.createElement("div"),this.border.classList.add("border"),this.carHtml.appendChild(this.border),this.points(),this.clickCarHtml()}points(){let t=document.createElement("div");this.centerPointY=this.It+this.Ih/2,this.centerPointX=this.Il+this.Iw/2,t.classList.add("centerPoint"),t.style.top=this.centerPointY+"px",t.style.left=this.centerPointX+"px",document.querySelector(".intersection").appendChild(t)}removePX(t){return Number(t.substring(0,t.length-2))}move(){"stop"!==this.direction&&this.moveDeg()}smoothRotate(t,e,i){let s=Number(this.carHtml.style.rotate.substring(0,this.carHtml.style.rotate.length-3)),o=null,r=n=>{o||(o=n);const l=n-o,c=function(t,e,i,s){if((t/=s/2)<1)return i/2*t*t*t+e;return i/2*((t-=2)*t*t+2)+e}(l,s,e,i);if("stop"!=this.direction){if(c+1>s+e&&c-1<s+e)return this.direction="default",this.deg=c,"right"==this.povorot?(this.povorotnik.classList.remove("right"),this.dublpovorotnik.classList.remove("right")):"left"==this.povorot&&(this.dublpovorotnik.classList.remove("left"),this.povorotnik.classList.remove("left")),void this.moveDeg();t.style.rotate=`${c}deg`,l<i&&requestAnimationFrame(r)}else if(this.isCrash()){this.povorotnik.remove("right"),this.dublpovorotnik.remove("right"),this.povorotnik.remove("left"),this.dublpovorotnik.remove("left");let t=document.createElement("div");t.classList.add("povorotniks-tleft");let e=document.createElement("div");e.classList.add("povorotniks-tright");let i=document.createElement("div");i.classList.add("povorotniks-bleft");let s=document.createElement("div");s.classList.add("povorotniks-bright"),this.carHtml.appendChild(t),this.carHtml.appendChild(e),this.carHtml.appendChild(i),this.carHtml.appendChild(s)}};requestAnimationFrame(r)}clickCarHtml(){this.carHtml.addEventListener("click",(()=>{for(let t=0;t<window.cars.length;t++){if(window.cars[t]==this)return}window.cars.push(this),window.answer+=this.id,console.log(window.answer),this.carHtml.querySelector(".count").innerHTML=window.cars.length,console.log(this.all),window.cars.length==this.all&&window.start()}))}moveDeg(){this.deg>86&&this.deg<93&&this.plusX(),this.deg>176&&this.deg<183&&this.plusY(),this.deg<-86&&this.deg>-93&&this.minusX(),this.deg>-6&&this.deg<3&&this.minusY(),this.deg>260&&this.deg<280&&this.minusX(),this.deg<-170&&this.deg>-190&&this.plusY()}isCrash(){for(let t=0;t<window.cars.length;t++){const e=window.cars[t];if(e==this)continue;if((()=>{const t=this.border.getBoundingClientRect(),i=e.border.getBoundingClientRect();return t.left<i.right&&t.right>i.left&&t.top<i.bottom&&t.bottom>i.top||t.top<i.bottom&&t.bottom>i.top})())return window.end(),!0}}stop(){this.direction="stop"}plusX(){if("default"==this.direction){let t=()=>{setTimeout((()=>{if(this.carX++,this.carHtml.style.left=this.carX+"px",this.carX<this.intersectionWidth&&"stop"!=this.direction)t();else if(this.isCrash()){this.povorotnik.remove("right"),this.dublpovorotnik.remove("right"),this.povorotnik.remove("left"),this.dublpovorotnik.remove("left");let t=document.createElement("div");t.classList.add("povorotniks-tleft");let e=document.createElement("div");e.classList.add("povorotniks-tright");let i=document.createElement("div");i.classList.add("povorotniks-bleft");let s=document.createElement("div");s.classList.add("povorotniks-bright"),this.carHtml.appendChild(t),this.carHtml.appendChild(e),this.carHtml.appendChild(i),this.carHtml.appendChild(s)}this.carX>=this.intersectionWidth&&(this.carHtml.style.display="none")}),2)};t()}else{let t=()=>{setTimeout((()=>{this.carX++,this.carHtml.style.left=this.carX+"px","left"==this.direction?this.carX-20<this.centerPointX&&"stop"!=this.direction?t():this.smoothRotate(this.carHtml,-90,1e3):this.carX+96<this.centerPointX&&"stop"!=this.direction?t():this.smoothRotate(this.carHtml,90,1e3)}),2)};t()}}plusY(){if("default"==this.direction){let t=()=>{setTimeout((()=>{if(this.carY++,this.carHtml.style.top=this.carY+"px",this.carY<this.intersectionHeight&&"stop"!=this.direction)t();else if(this.isCrash()){this.povorotnik.remove("right"),this.dublpovorotnik.remove("right"),this.povorotnik.remove("left"),this.dublpovorotnik.remove("left");let t=document.createElement("div");t.classList.add("povorotniks-tleft");let e=document.createElement("div");e.classList.add("povorotniks-tright");let i=document.createElement("div");i.classList.add("povorotniks-bleft");let s=document.createElement("div");s.classList.add("povorotniks-bright"),this.carHtml.appendChild(t),this.carHtml.appendChild(e),this.carHtml.appendChild(i),this.carHtml.appendChild(s)}this.carY>=this.intersectionHeight&&(this.carHtml.style.display="none")}),2)};t()}else{let t=()=>{setTimeout((()=>{this.carY++,this.carHtml.style.top=this.carY+"px","left"==this.direction?this.carY+20<this.centerPointY&&"stop"!=this.direction?t():this.smoothRotate(this.carHtml,-90,1e3):this.carY+125<this.centerPointY&&"stop"!=this.direction?t():this.smoothRotate(this.carHtml,90,1e3)}),2)};t()}}minusX(){if("default"==this.direction){let t=()=>{setTimeout((()=>{if(this.carX--,this.carHtml.style.left=this.carX+"px",this.carX>-220&&"stop"!=this.direction)t();else if(this.isCrash()){this.povorotnik.remove("right"),this.dublpovorotnik.remove("right"),this.povorotnik.remove("left"),this.dublpovorotnik.remove("left");let t=document.createElement("div");t.classList.add("povorotniks-tleft");let e=document.createElement("div");e.classList.add("povorotniks-tright");let i=document.createElement("div");i.classList.add("povorotniks-bleft");let s=document.createElement("div");s.classList.add("povorotniks-bright"),this.carHtml.appendChild(t),this.carHtml.appendChild(e),this.carHtml.appendChild(i),this.carHtml.appendChild(s)}this.carX<=-220&&(this.carHtml.style.display="none")}),2)};t()}else{let t=()=>{setTimeout((()=>{this.carX--,this.carHtml.style.left=this.carX+"px","left"==this.direction?this.carX+96>this.centerPointX&&"stop"!=this.direction?t():this.smoothRotate(this.carHtml,-90,1e3):this.carX-30>this.centerPointX&&"stop"!=this.direction?t():this.smoothRotate(this.carHtml,90,1e3)}),2)};t()}}minusY(){if("default"==this.direction){let t=()=>{setTimeout((()=>{if(this.carY--,this.carHtml.style.top=this.carY+"px",this.carY>-220&&"stop"!=this.direction)t();else if(this.isCrash()){this.povorotnik.remove("right"),this.dublpovorotnik.remove("right"),this.povorotnik.remove("left"),this.dublpovorotnik.remove("left");let t=document.createElement("div");t.classList.add("povorotniks-tleft");let e=document.createElement("div");e.classList.add("povorotniks-tright");let i=document.createElement("div");i.classList.add("povorotniks-bleft");let s=document.createElement("div");s.classList.add("povorotniks-bright"),this.carHtml.appendChild(t),this.carHtml.appendChild(e),this.carHtml.appendChild(i),this.carHtml.appendChild(s)}this.carY<=-220&&(this.carHtml.style.display="none")}),2)};t()}else{let t=()=>{setTimeout((()=>{this.carY--,this.carHtml.style.top=this.carY+"px","left"==this.direction?this.carY+125>this.centerPointY&&"stop"!=this.direction?t():this.smoothRotate(this.carHtml,-90,1e3):this.carY+20>this.centerPointY&&"stop"!=this.direction?t():this.smoothRotate(this.carHtml,90,1e3)}),2)};t()}}},n=JSON.parse('{"generalProvisions":{"general":{"title":"Общие положения","subtitle":["1. Дорога и Пешеходы","2. Правило правой руки","3. Светофоры и Знаки","4. Скорость и Дистанция","5. Алкоголь и Наркотики","6. Сотовые телефоны","7. Другие Участники Движения"],"img":["./img/theory/generalProvisions/1/1.jpg","./img/theory/generalProvisions/1/2.jpg","./img/theory/generalProvisions/1/3.jpg","./img/theory/generalProvisions/1/4.jpg","./img/theory/generalProvisions/1/5.jpg","./img/theory/generalProvisions/1/6.jpg","./img/theory/generalProvisions/1/7.jpg"],"text":[["Дорога - это не просто полоса асфальта. Это место, где каждый участник движения должен соблюдать правила и уважать друг друга.","Пешеходы - наши самые уязвимые участники. Помни, что они всегда имеют преимущество на пешеходных переходах."],["В большинстве стран движение на дороге праворульное. Это означает, что при пересечении других транспортных средств, уступай дорогу тем, кто едет справа."],["Подчиняйтесь светофорам и дорожным знакам. Они указывают, когда можно двигаться и когда нужно остановиться."],["Соблюдай разумную скорость и безопасное расстояние между автомобилями. Это позволяет избежать аварий."],["Никогда не управляй транспортным средством, находясь под воздействием алкоголя или наркотиков. Это опасно и незаконно."],["Перед использованием сотового телефона остановись в безопасном месте. Внимание на дороге — твоя первоочередная задача."],["Помни, что на дороге есть много разных участников, включая велосипедистов, мотоциклистов и пешеходов. Уважай их права и будь осторожен."]]},"generalTwo":{"title":"Общие обязанности водителей","subtitle":["1. Сосредоточенность и Безотвлекаемость","2. Скоростной Режим","3. Передача Приоритета","4. Наличие документов","5. Уступать Пешеходам"],"img":["./img/theory/generalProvisions/2/1.jpg",null,"./img/theory/generalProvisions/2/2.jpg","./img/theory/generalProvisions/2/3.jpg","./img/theory/generalProvisions/2/4.jpg"],"text":[["Внимание на дороге - главное правило. Избегайте отвлекающих действий, таких как разговоры по телефону."],["Уважайте ограничения скорости. Не превышайте их, чтобы обеспечить безопасность всех на дороге."],["Правильно уступайте дорогу согласно правилам. Помните о приоритетах."],["Водитель транспортного средства обязан иметь при себе удостоверение и по требованию сотрудников полиции передавать им, для проверки."],["Пешеходы всегда имеют преимущество на пешеходных переходах. Уступайте дорогу им."],["Перед использованием сотового телефона остановись в безопасном месте. Внимание на дороге — твоя первоочередная задача."],["Помни, что на дороге есть много разных участников, включая велосипедистов, мотоциклистов и пешеходов. Уважай их права и будь осторожен."]]},"generalThree":{"title":"Применение специальных сигналов","subtitle":["1. Специальные сигналы","2. Сирена и Мигающие Маячки","3. Уступите Дорогу","4. Будьте Осторожны"],"img":["./img/theory/generalProvisions/3/1.jpg","./img/theory/generalProvisions/3/2.jpg","./img/theory/generalProvisions/3/3.jpg","./img/theory/generalProvisions/3/4.jpg"],"text":[["Специальные сигналы - это средство, которое используется служебными и аварийными транспортными средствами для обозначения их приоритета на дороге."],["Специальные сигналы обычно включают сирену и мигающие маячки. Это предупреждает других участников движения о неотложности их задачи."],["Когда вы видите служебное аварийное транспортное средство с включенными специальными сигналами, вы должны уступить дорогу и пропустить его."],["Водители должны быть особенно осторожными, когда видят транспортное средство с включенными специальными сигналами. Это может быть связано с неотложной медицинской помощью, пожаром или другой аварией. Важно помнить, что специальные сигналы используются для обеспечения безопасности и сохранения жизней. Уступайте дорогу и будьте осторожными, когда видите транспортное средство с включенными специальными сигналами на дороге."]]}},"roadSigns":{"priority":{"title":"Знаки приоритета","subtitle":["1. Знак \\"Уступите дорогу\\"","2. Знак \\"Главная дорога\\"","3. Знак \\"Пешеходный переход\\"","4. Знак \\"Велосипедисты\\"","5. Знак \\"Железнодорожный переезд\\"","6. Знак \\"Однопроходная дорога\\"","7. Знак \\"Конец полосы\\"","8. Знак \\"Пересечение с трамвайными путями\\"","9. Знак \\"Преимущество встречного движения\\"","10. Знак \\"Двустороннее движение\\""],"img":["./img/theory/roadSigns/1/1.jpg","./img/theory/roadSigns/1/2.jpg","./img/theory/roadSigns/1/3.jpg","./img/theory/roadSigns/1/4.jpg","./img/theory/roadSigns/1/5.jpg","./img/theory/roadSigns/1/6.jpg","./img/theory/roadSigns/1/7.jpg","./img/theory/roadSigns/1/8.jpg","./img/theory/roadSigns/1/9.jpg","./img/theory/roadSigns/1/10.jpg"],"text":[["Знак \\"Уступите дорогу\\" указывает, что вы должны уступить дорогу другим участникам движения."],["Знак \\"Главная дорога\\" показывает, что вы находитесь на главной дороге и имеете приоритет перед въезжающими с боковых дорог."],["Знак \\"Пешеходный переход\\" указывает на место, где пешеходы имеют приоритет при пересечении дороги."],["Знак \\"Велосипедисты\\" предупреждает о наличии велосипедной дорожки и обязывает уступить дорогу велосипедистам."],["Знак \\"Железнодорожный переезд\\" указывает на приближение к железнодорожным путям и обязывает уступить дорогу поездам."],["Знак \\"Однопроходная дорога\\" указывает, что дорога однопроходная, и вы должны уступить дорогу встречным транспортным средствам."],["Знак \\"Конец полосы\\" указывает на конец участка средней полосы и переход во владение встречного направления."],["Знак \\"Пересечение с трамвайными путями\\" предупреждает о наличии трамвайных путей и обязывает уступить дорогу трамваям."],["Знак \\"Преимущество встречного движения\\" указывает на приоритет движения водителей по встречной полосе и обязывает уступить дорогу встречному движению."],["Знак \\"Двустороннее движение\\" показывает, что дорога двусторонняя и участники движения могут двигаться в обоих направлениях."]]},"forbidding":{"title":"Запрещающие знаки","subtitle":["1. Сосредоточенность и Безотвлекаемость","2. Скоростной Режим","3. Передача Приоритета","4. Наличие документов","5. Уступать Пешеходам"],"img":["./img/theory/roadSigns/2/1.jpg","./img/theory/roadSigns/2/2.jpg","./img/theory/roadSigns/2/3.jpg","./img/theory/roadSigns/2/4.jpg","./img/theory/roadSigns/2/5.jpg","./img/theory/roadSigns/2/6.jpg","./img/theory/roadSigns/2/7.jpg","./img/theory/roadSigns/2/8.jpg","./img/theory/roadSigns/2/9.jpg","./img/theory/roadSigns/2/10.jpg"],"text":[["Внимание на дороге - главное правило. Избегайте отвлекающих действий, таких как разговоры по телефону."],["Уважайте ограничения скорости. Не превышайте их, чтобы обеспечить безопасность всех на дороге."],["Правильно уступайте дорогу согласно правилам. Помните о приоритетах."],["Водитель транспортного средства обязан иметь при себе удостоверение и по требованию сотрудников полиции передавать им, для проверки."],["Пешеходы всегда имеют преимущество на пешеходных переходах. Уступайте дорогу им."],["Перед использованием сотового телефона остановись в безопасном месте. Внимание на дороге — твоя первоочередная задача."],["Помни, что на дороге есть много разных участников, включая велосипедистов, мотоциклистов и пешеходов. Уважай их права и будь осторожен."]]},"prescriptive":{"title":"Предписывающие знаки","subtitle":["1. Знак \\"Двигаться прямо\\"","2. Знак \\"Поворот направо\\"","3. Знак \\"Поворот налево\\"","4. Знак \\"Двигаться в обратном направлении\\"","5. Знак \\"Объезд препятствия справа\\""],"img":["./img/theory/roadSigns/3/1.jpg","./img/theory/roadSigns/3/2.jpg","./img/theory/roadSigns/3/3.jpg","./img/theory/roadSigns/3/4.jpg","./img/theory/roadSigns/3/5.jpg","./img/theory/roadSigns/3/6.jpg"],"text":[["Знак с изображением стрелки, указывающей вперед, предписывает двигаться прямо, не поворачивая."],["Знак с изображением стрелки, указывающей направо, предписывает совершить правый поворот."],["Знак с изображением стрелки, указывающей налево, предписывает совершить левый поворот."],["Знак с изображением двух стрелок, указывающих в разные стороны, предписывает двигаться в обратном направлении."],["Знак указывает, что объезд различного рода препятствий на проезжей части разрешается со стороны, указанной стрелкой."],["Знак указывает, что движение организовано по кругу в направлении стрелок."]]}}}'),l=JSON.parse('{"1":{"width":"320px","height":"215px","left":"470px","top":"90px","path":"./img/tests/intersections/cross1.jpg","all":3,"car":[{"id":2,"direction":"right","path":"./img/tests/cars/b-car.png","x":60,"y":180,"deg":90,"povorot":"right"},{"id":1,"direction":"right","path":"./img/tests/cars/w-car.png","x":280,"y":180,"deg":90,"povorot":"right"},{"id":3,"direction":"right","path":"./img/tests/cars/y-car.png","x":650,"y":360,"deg":0,"povorot":"right"}],"answers":[{"sequence":"123"}]},"2":{"width":"320px","height":"215px","left":"470px","top":"283px","path":"./img/tests/intersections/cross2.jpg","all":3,"car":[{"id":1,"direction":"default","path":"./img/tests/cars/y-car.png","x":340,"y":375,"deg":90,"povorot":"none"},{"id":2,"direction":"right","path":"./img/tests/cars/w-car.png","x":540,"y":110,"deg":180,"povorot":"right"},{"id":3,"direction":"left","path":"./img/tests/cars/b-car.png","x":650,"y":535,"deg":0,"povorot":"left"}],"answers":[{"sequence":"231"}]},"3":{"width":"135px","height":"50px","left":"515px","top":"410px","path":"./img/tests/intersections/cross3.jpg","all":2,"car":[{"id":1,"direction":"right","path":"./img/tests/cars/r-car.png","x":540,"y":80,"deg":180,"povorot":"right"},{"id":2,"direction":"left","path":"./img/tests/cars/b-car.png","x":550,"y":495,"deg":0,"povorot":"left"}],"answers":[{"sequence":"21"}]}}');t.mousePrlx=new class{constructor(t,e=null){if(this.config=Object.assign({init:!0,logging:!0},t),this.config.init){const t=document.querySelectorAll("[data-prlx-mouse]");t.length?(this.paralaxMouseInit(t),this.setLogging(`Проснулся, слежу за объектами: (${t.length})`)):this.setLogging("Нет ни одного объекта. Сплю...zzZZZzZZz...")}}paralaxMouseInit(t){t.forEach((t=>{const e=t.closest("[data-prlx-mouse-wrapper]"),i=t.dataset.prlxCx?+t.dataset.prlxCx:100,s=t.dataset.prlxCy?+t.dataset.prlxCy:100,o=t.hasAttribute("data-prlx-dxr")?-1:1,r=t.hasAttribute("data-prlx-dyr")?-1:1,n=t.dataset.prlxA?+t.dataset.prlxA:50;let l=0,c=0,a=0,h=0;function d(e=window){e.addEventListener("mousemove",(function(e){const i=t.getBoundingClientRect().top+window.scrollY;if(i>=window.scrollY||i+t.offsetHeight>=window.scrollY){const t=window.innerWidth,i=window.innerHeight,s=e.clientX-t/2,o=e.clientY-i/2;a=s/t*100,h=o/i*100}}))}!function e(){l+=(a-l)*n/1e3,c+=(h-c)*n/1e3,t.style.cssText=`transform: translate3D(${o*l/(i/10)}%,${r*c/(s/10)}%,0);`,requestAnimationFrame(e)}(),e?d(e):d()}))}setLogging(t){this.config.logging&&function(t){setTimeout((()=>{window.FLS&&console.log(t)}),0)}(`[PRLX Mouse]: ${t}`)}}({});let c=!1;function a(t){t.forEach((t=>{t.isIntersecting&&t.target.classList.add("element-show")}))}function h(t){var e=t.split(".");let i=n[e[0]],s=new o(i[e[1]]),r=document.querySelector(".theory__container-content"),l=s.content();r.querySelector("h2").innerHTML=l.title;let c=r.querySelector(".theory__content");c.innerHTML=l.html;let h=new IntersectionObserver(a,{threshold:[.3]}),d=document.querySelectorAll(".element-animation");for(let t of d)h.observe(t);let m,g=speechSynthesis.getVoices();speechSynthesis.onvoiceschanged=()=>{g=speechSynthesis.getVoices(),m=g.find((t=>"Google русский"===t.name)),document.querySelector("#voice").addEventListener("click",y),window.addEventListener("keydown",f)};const p="play",u="pause",v="resume";speechSynthesis.cancel(),document.querySelector("#voice").className=p;let y=({target:t})=>{switch(t=t.parentNode,console.log(t),t.className){case p:speechSynthesis.cancel();const{textContent:e}=c;console.log("asd"),e.split(/[.,]+/).forEach((e=>{const i=e.trim();if(console.log(i),i){const i=function(t,e){const i=new SpeechSynthesisUtterance(e);return i.voice=m,i.lang=m.lang,i.volume=1,i.rate=1.1,i.pitch=.85,i.onstart=()=>{console.log("Started"),t.className=u},i.onend=()=>{console.log("Finished"),t.className=p},i.onerror=t=>console.error(t),i}(t,e);speechSynthesis.speak(i)}}));break;case u:t.className=v,speechSynthesis.pause();break;case v:t.className=u,speechSynthesis.resume()}},f=({code:t})=>{if("Escape"===t)return speechSynthesis.cancel()}}setTimeout((()=>{if(c){let t=new Event("windowScroll");window.addEventListener("scroll",(function(e){document.dispatchEvent(t)}))}}),0),window.FLS=!0,function(t){let e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)})),document.addEventListener("DOMContentLoaded",(()=>{d(),h("generalProvisions.general")}));let d=()=>{let t=document.querySelector(".sidebar"),e=document.querySelector(".sidebar-icon"),i=t.querySelectorAll(".sidebar__item"),s=t.querySelectorAll(".sidebar__icon");s.forEach((t=>{let e=t.parentNode.querySelector(".sidebar__submenu");t.addEventListener("mouseover",(t=>{!function(t){if(!t)return;s.forEach((t=>{let e=t.parentNode.querySelector(".sidebar__submenu");e.classList.contains("hover")&&e.classList.remove("hover")}))}(t),e.classList.add("hover"),document.addEventListener("click",(()=>{e.classList.remove("hover")}))}))})),i.forEach((t=>{let e=t.querySelector("p"),s=t.querySelector(".sidebar__submenu"),o=t.querySelector("svg");e.addEventListener("click",(t=>{!function(t,e){if(!t)return;i.forEach((e=>{let i=e.querySelector(".sidebar__submenu");i!=t&&i.classList.contains("open")&&(e.querySelector("svg").style.rotate="0deg",i.classList.remove("open"))})),t.classList.contains("open")?(t.classList.remove("open"),e.style.rotate="0deg"):(t.classList.add("open"),e.style.rotate="90deg")}(s,o)})),s.querySelectorAll("button").forEach((t=>{t.addEventListener("click",(()=>{h(t.value)}))}))}));e.addEventListener("click",(()=>{t.classList.toggle("open");document.querySelectorAll("#rect").forEach((t=>{t.classList.toggle("is-visible")})),i.forEach((t=>{let e=t.querySelector(".sidebar__submenu");e.classList.contains("open")&&(t.querySelector("svg").style.rotate="0deg",e.classList.remove("open"))}))}))},m=1;document.querySelector(".next").addEventListener("click",(()=>{m++,window.createTestWindow()})),window.createTestWindow=()=>{window.cars=[];let t=document.createElement("div");t.classList.add("intersectionCenter"),console.log(m),t.style.cssText=`\n        width: ${l[m].width};\n        height: ${l[m].height};\n        top: ${l[m].top};\n        left: ${l[m].left};\n    `,window.answer="",document.querySelector(".intersection").replaceChildren();document.querySelector(".intersection").appendChild(t);document.querySelector(".intersection").style.background="url("+l[m].path+")";for(let e=0;e<l[m].car.length;e++){const i=l[m].car[e];new r(i.direction,t,i.path,i.x,i.y,i.deg,i.id,i.povorot,l[m].all)}},window.start=()=>{let t=!1;for(let e=0;e<l[m].answers.length;e++){const i=l[m].answers[e].sequence;if(window.answer==i){t=!0;break}}let e=t?3e3:200;for(let t=0;t<window.cars.length;t++)window.interval=setTimeout((()=>{const e=window.cars[t];e.move(),window.isin=setInterval((()=>{e.isCrash()}),100)}),e*t)},window.end=()=>{clearInterval(window.interval),clearInterval(window.isin);for(let t=0;t<window.cars.length;t++){window.cars[t].stop()}clearInterval(window.isin),clearInterval(window.interval)},document.querySelector(".icon-menu")&&document.addEventListener("click",(function(t){e&&t.target.closest(".icon-menu")&&(((t=500)=>{document.documentElement.classList.contains("lock")?i(t):s(t)})(),document.documentElement.classList.toggle("menu-open"))}))})();